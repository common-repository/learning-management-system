!function(o,i){o(document.body).on("submit","form.masteriyo-login--form",function(s){s.preventDefault();let e=o(this);e.find("button[type=submit]").text(i.labels.signing_in).siblings(".masteriyo-notify-message").first().remove(),o(this).find("#masteriyo-login-error-msg").hide(),o.ajax({type:"post",dataType:"json",url:i.ajax_url,data:e.serializeArray(),success:function(s){s.data.user_id&&s.data.mas_session_token?(o("#clear-sessions-link").data("sessionData",{mas_session_token:s.data.mas_session_token,user_id:s.data.user_id,_wpnonce:s.data._wpnonce}),o("#masteriyo-session-limit-warning").show()):s.success?window.location.replace(s.data.redirect):o("#masteriyo-login-error-msg").show().html(s.data.message)},error:function(s,e,i){s=s.responseJSON.message||i;o("#masteriyo-login-error-msg").show().html(s)},complete:function(){e.find("button[type=submit]").text(i.labels.sign_in)}})}),o("#clear-sessions-link").on("click",function(s){s.preventDefault(),o.ajax({type:"POST",dataType:"json",url:i.ajax_url,data:{action:"masteriyo_clear_sessions",user_info:o(this).data("sessionData")},success:function(s){s.success?(o("#masteriyo-session-limit-warning").hide(),o("#masteriyo-session-limit-clear").show()):console.error("Error clearing sessions")},error:function(s,e,i){console.error("Error clearing sessions:",i)}})})}(jQuery,window._MASTERIYO_);
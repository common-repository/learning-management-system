!function(o,a){let r=wp.i18n["__"];var n={toggleWishListIcon:function(s,e,t=!1){s=o(s),e=e?(s.removeClass("masteriyo-add-to-wishlist"),s.addClass("masteriyo-remove-from-wishlist active"),s.data("is-added-to-wishlist","yes"),s.attr("title",a.labels.remove_from_wishlist),"masteriyo_remove_course_from_wishlist"):(s.removeClass("masteriyo-remove-from-wishlist active"),s.addClass("masteriyo-add-to-wishlist"),s.data("is-added-to-wishlist","no"),s.attr("title",a.labels.add_to_wishlist),"masteriyo_add_course_to_wishlist");t||s.closest(".masteriyo-wishlist").find('input[name="action"]').val(e)},init:function(){o(document).ready(function(){n.initWishListToggleHandler()})},initWishListToggleHandler:function(){var t=!1;o(document.body).on("click",".masteriyo-wishlist-toggle",function(s){var i,e;s.preventDefault(),t||(t=!0,i=s.currentTarget,s="yes"===o(this).data("is-added-to-wishlist"),e=o(this).closest("form"),s?(n.toggleWishListIcon(i,!1,!0),o.ajax({url:a.ajax_url,type:"POST",data:e.serializeArray(),success:function(s){s.success?n.toggleWishListIcon(i,!1):(n.toggleWishListIcon(i,!0),alert(s.data.message))},error:function(s,e,t){n.toggleWishListIcon(i,!0);t=(t=s.responseJSON&&s.responseJSON.message?s.responseJSON.message:t)||r("Sorry, the course could not be deleted from your wishlist","learning-management-system");alert(t)},complete:function(){t=!1}})):(n.toggleWishListIcon(i,!0,!0),o.ajax({url:a.ajax_url,type:"POST",data:e.serializeArray(),success:function(s){s.success?n.toggleWishListIcon(i,!0):(n.toggleWishListIcon(i,!1),alert(s.data.message))},error:function(s,e,t){n.toggleWishListIcon(i,!1);t=(t=s.responseJSON&&s.responseJSON.message?s.responseJSON.message:t)||r("Sorry, the course could not be added your wishlist","learning-management-system");alert(t)},complete:function(){t=!1}})))})}};n.init()}(jQuery,window._MASTERIYO_WISHLIST_ADDON_);